<div class="wrapper">
    <app-sidebar style="background: white !important;"></app-sidebar>
  
    <main class="content">
      <nav class="navbar navbar-expand navbar-theme mb-4 mt-1 ml-0">
        <a class="sidebar-toggle d-flex mr-2">
          <i class="hamburger align-self-center"></i>
        </a>
      </nav>
      <div class="container-fluid">
        <div class="header">
          <h1 class="header-title">
            Apartado de productos
          </h1>
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="">Dashboard</a></li>
              <li class="breadcrumb-item">
                <a [routerLink]="['/productos']">Productos</a>
              </li>
              <li class="breadcrumb-item">Editar Producto</li>
            </ol>
          </nav>
        </div>
  
        <div class="row">
          <div class="col-lg-12">
            <div
              class="alert alert-info alert-dismissible"
              *ngIf="successMessage != null"
              role="alert"
            >
              <div class="alert-message">
                {{ successMessage }}
              </div>
              <button
                class="close"
                type="button"
                data-dismiss="alert"
                aria-label="Close"
                (click)="limpiar(1)"
              >
                <span aria-hidden="true">x</span>
              </button>
            </div>
  
            <div
              class="alert alert-danger alert-dismissible"
              *ngIf="errorMessage != null"
              role="alert"
            >
              <div class="alert-message">
                {{ errorMessage }}
              </div>
              <button
                class="close"
                type="button"
                data-dismiss="alert"
                aria-label="Close"
                (click)="limpiar(2)"
              >
                <span aria-hidden="true">x</span>
              </button>
            </div>
            <ul class="nav nav-tabs" id="myTab" role="tablist">
              <li class="nav-item">
                <a
                  class="nav-link active"
                  id="home-tab"
                  data-toggle="tab"
                  href="#home"
                  role="tab"
                  aria-controls="home"
                  aria-selected="true"
                  >Registro</a
                >
              </li>
              <li class="nav-item">
                <a
                  class="nav-link"
                  id="profile-tab"
                  data-toggle="tab"
                  href="#profile"
                  role="tab"
                  aria-controls="profile"
                  aria-selected="false"
                  >Categoría</a
                >
              </li>
            </ul>
            <div class="tab-content" id="myTabContent">
              <!-- {{--REGISTRO --}} -->
              <div
                class="tab-pane fade show active"
                id="home"
                role="tabpanel"
                aria-labelledby="home-tab"
              >
                <form
                  #productoForm="ngForm"
                  (ngSubmit)="actualizarProducto(productoForm)"
                >
                  <div class="card shadow">
                    <div class="card-body">
                      <div class="row mt-4">
                        <div class="col-lg-8">
                          <div class="row">
                            <div class="col-lg-9 form-group">
                              <label><b>Titulo del producto</b></label>
                              <input
                                type="text"
                                class="form-control"
                                autocomplete="new-text"
                                placeholder="Titulo del producto"
                                #titulo="ngModel"
                                name="titulo"
                                [(ngModel)]="producto.titulo"
                              />
                            </div>
                            <div class="col-lg-3 form-group">
                              <label><b>Precio compra</b></label>
                              <input
                                type="number"
                                class="form-control"
                                autocomplete="new-text"
                                #precio_compra="ngModel"
                                name="precio_compra"
                                [(ngModel)]="producto.precio_compra"
                              />
                            </div>
                            <div class="col-lg-3 form-group">
                              <label><b>Precio venta</b></label>
                              <input
                                type="number"
                                name=""
                                class="form-control"
                                autocomplete="new-text"
                                #precio_venta="ngModel"
                                name="precio_venta"
                                [(ngModel)]="producto.precio_venta"
                              />
                            </div>
                            <div class="col-lg-3 form-group">
                              <label><b>Cantidad</b></label>
                              <input
                                type="number"
                                class="form-control"
                                autocomplete="new-text"
                                #stock="ngModel"
                                name="stock"
                                [(ngModel)]="producto.stock"
                              />
                            </div>
                            <div class="col-lg-9 form-group">
                              <label><b>Descripción</b></label>
                              <input
                                type="text"
                                class="form-control"
                                autocomplete="new-text"
                                placeholder="Descripción del producto"
                                #descripcion="ngModel"
                                name="descripcion"
                                [(ngModel)]="producto.descripcion"
                              />
                            </div>
                            <div class="col-lg-3 form-group">
                              <label><b>Categoría</b></label>
                              <select
                                class="form-control"
                                autocomplete="new-text"
                                #id_categoria="ngModel"
                                name="id_categoria"
                                [(ngModel)]="producto.id_categoria"
                              >
                                <option value="" disabled>SELECCIONAR</option>
                                <option
                                  *ngFor="let categoria of categorias"
                                  value="{{ categoria._id }}"
                                >
                                  {{ categoria.titulo.toUpperCase() }}
                                </option>
                              </select>
                            </div>
  
                            <div class="col-lg-3 form-group">
                              <label><b>Puntos</b></label>
                              <input
                                type="number"
                                class="form-control"
                                #puntos="ngModel"
                                name="puntos"
                                [(ngModel)]="producto.puntos"
                              />
                            </div>
  
                            <div class="col-lg-12 form-group">
                              <button
                                class="btn btn-primary btn-lg"
                                type="submit"
                              >
                                Actualizar
                              </button>
                            </div>
                          </div>
                        </div>
                        <div class="col-lg-4">
                          <div class="row">
                            <div class="col-lg-12 form-group">
                              <div class="text-center">
                                <label><b>Portada</b></label>
                                <br />
                                <img
                                  
                                  alt="Producto"
                                  [src]="imgSelected"
                                  class="rounded-circle img-responsive mt-2"
                                  width="128"
                                  height="128"
                                />
                                <input
                                  type="file"
                                  class="btn btn-primary mt-2"
                                  style="width: 100% !important;"
                                  (change)="imgSeleccionada($event)"
                                  #img="ngModel"
                                  name="img"
                                  [(ngModel)]="producto.img"
                                />
                                <small
                                  >Para mejor resultados, use una imagen que tenga
                                  hasta un tamaño de 128px x 128px en formato
                                  .png</small
                                >
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
              <!-- {{--REGISTRO --}}
                {{--CATEGORIAS --}} -->
              <div
                class="tab-pane fade"
                id="profile"
                role="tabpanel"
                aria-labelledby="profile-tab"
              >
                <div class="row">
                  <div class="col-12 col-xl-12">
                    <div class="card">
                      <div class="card-header">
                        <h5 class="card-title">Listado de categorias</h5>
                        <div class="row">
                          <div class="col-lg-6">
                            <div class="input-group" id="show_hide_password">
                              <input
                                class="form-control"
                                type="password"
                                placeholder="Buscar producto"
                              />
                              <div class="input-group-addon">
                                <a href="" class="btn btn-info"
                                  ><i class="fas fa-save"></i
                                ></a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <table class="table table-striped table-hover">
                        <thead class="thead-dark">
                          <tr>
                            <th>Name</th>
                            <th>Phone Number</th>
                            <th>Date of Birth</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td>
                              <img
                                src="img/avatars/avatar-5.jpg"
                                width="48"
                                height="48"
                                class="rounded-circle mr-2"
                                alt="Avatar"
                              />
                              Michelle Bilodeau
                            </td>
                            <td>864-348-0485</td>
                            <td>June 21, 1961</td>
                          </tr>
                          <tr>
                            <td>
                              <img
                                src="img/avatars/avatar-2.jpg"
                                width="48"
                                height="48"
                                class="rounded-circle mr-2"
                                alt="Avatar"
                              />
                              Alexander Groves
                            </td>
                            <td>914-939-2458</td>
                            <td>May 15, 1948</td>
                          </tr>
                          <tr>
                            <td>
                              <img
                                src="img/avatars/avatar-3.jpg"
                                width="48"
                                height="48"
                                class="rounded-circle mr-2"
                                alt="Avatar"
                              />
                              Kathie Burton
                            </td>
                            <td>704-993-5435</td>
                            <td>September 14, 1965</td>
                          </tr>
                          <tr>
                            <td>
                              <img
                                src="img/avatars/avatar-4.jpg"
                                width="48"
                                height="48"
                                class="rounded-circle mr-2"
                                alt="Avatar"
                              />
                              Daisy Seger
                            </td>
                            <td>765-382-8195</td>
                            <td>April 2, 1971</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
  